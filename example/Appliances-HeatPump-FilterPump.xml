<?xml version="1.0" encoding="UTF-8"?>
<Appliances xmlns="http://github.com/camueller/SmartApplianceEnabler/v1.1">
	<!-- id muss mit der <DeviceId> des zugehörigen Gerätes aus Device2EM.xml übereinstimmen -->
	<Appliance id="F-00000001-000000000001-00">
		<!-- 
		pin : Nummer des Raspberry-GPIO-Pins laut http://pi4j.com/images/gpio-control-example-large.png
		reverseStates : invertiert das Signal für diesen Schalter
		-->
		<Switch gpio="1" reverseStates="true" />
		<!-- 
		pin : Nummer des Raspberry-GPIO-Pins laut http://pi4j.com/images/gpio-control-example-large.png
		pinPullResistance : PULL_UP aktiviert den Pull-Up-Widerstand an diesem Pin; PULL_DOWN aktiviert den Pull-Down-Widerstand an diesem Pin; sonst weglassen
		impulsesPerKwh : Anzahl der Impulse, die der Zähler an der S0-Schnittstelle pro KWh sendet
		measurementInterval : Anzahl der Sekunden, für die Min/Durchschnitt/Max-Werte berechnet werden (muss für SEMP immer auf 60 stehen)
		-->
		<S0ElectricityMeter gpio="2" pinPullResistance="PULL_DOWN" impulsesPerKwh="1000"
			measurementInterval="60" />
	</Appliance>
	<Appliance id="F-00000001-000000000002-00">
	    <!-- 
	    idref : referenziert ein ModbusTCP-Element (Wert muss identisch sein mit dem "id"-Attribut des ModbusTCP-Elementes)
	    slaveAddress : die Adresse des ModBus-Schalters
	    registerAddress : das Register, welche das zu schaltende Bit (coil) enthält
	     -->
	   	<ModbusSwitch idref="modbus" slaveAddress="1" registerAddress="00AC"/>
	   	<!-- 
	    idref : referenziert ein ModbusTCP-Element (Wert muss identisch sein mit dem "id"-Attribut des ModbusTCP-Elementes)
	    slaveAddress : die Adresse des ModBus-Zählers
	    registerAddress : das Register, welches den Wert für die aktuelle Leistungsaufnahme (current power) enthält
	    pollInterval : die Anzahl der Sekunden, nach denen jeweils der Wert für die aktuelle Leistungsaufnahme vom Zähler abgefragt wird
	    measurementInterval : Anzahl der Sekunden, für die Min/Durchschnitt/Max-Werte berechnet werden (muss für SEMP immer auf 60 stehen) 
	   	 -->
	    <ModbusElectricityMeter idref="modbus" slaveAddress="1" registerAddress="0C" pollInterval="5" measurementInterval="60" />
		<!--
		minRunningTime : die minimale Zeitdauer in Sekunden, die das Gerät von EarliestStart bis LatestEnd laufen muss
		maxRunningTime : die maximale Zeitdauer in Sekunden, die das Gerät von EarliestStart bis LatestEnd laufen darf
		-->
		<Schedule minRunningTime="28800" maxRunningTime="28800">
			<DayTimeframe>
				<!-- hour : Einschaltzeit Stunde minute : Einschaltzeit Minute second : Einschaltzeit Sekunde -->
				<Start hour="0" minute="0" second="0" />
				<!-- hour : Ausschaltzeit Stunde minute : Ausschaltzeit Minute second : Ausschaltzeit Sekunde -->
				<End hour="23" minute="59" second="59" />
			</DayTimeframe>
		</Schedule>
	</Appliance>
	<Connectivity>
        <!--
        id : ein beliebiger Wert, mit dem dieses Element von anderen Elementen (ModbusElectricityMeter, ModbusSwitch) referenziert werden kann
        host: die IP-Adresse des Modbus-Gerätes oder des mbusd (MODBUS/TCP to MODBUS/RTU gateway server - http://mbus.sourceforge.net/)
        port : der TCP-Port des Modbus-Gerätes oder des mbusd (Optional; Standardwert ist 502)
        -->
		<ModbusTCP id="modbus" host="127.0.0.1" />
	</Connectivity>
</Appliances>
